---
title: "Simple Analysis and Data Vis"
author: "Bethany Growns"
format: pdf
date: 2023 03 08
code-fold: false
filters:
   - lightbox
lightbox: auto
---

Welcome to Data Visualisation in `R`! We'll start with a quick introduction to R, and then plot some data.
I always like to remember the `2 important rules` of R: 1) most people really do not know what they're doing, and 2) using R is spending more time on Google than in R Studio.
Some more great resources are here: [here](https://docs.google.com/document/d/1obm0tdkaaqdc1sfI9TZo3afz_ksKX5s64udD-WxbP0s/edit) and [here](https://osf.io/9gq4a/)

In order to run lines of code, highlight the ones you want and the press `Ctrl+Enter (Windows)`

Here we're going to load the packages that we need. Install these using `install.packages("PackageName")` in the Console below if you haven't already

```{r}
library(tidyverse)
library(sjmisc)
library(ggplot2)
library(viridis)
library(cowplot)
```

**Read in the CSV file.** This line of code basically says create a datafile (called "df") in the Global Environment by reading in this .csv file

```{r}
df <- read.csv("./Workshop_Data.csv")
```

Calculate the `frequency` of gender and ethnicity

```{r}
frq(df$gender)

frq(df$background)
```

Calculate the `mean` and `sd`

```{r}
df %>%
  summarise(M = mean(age),stdev=sd(age))
```

Conduct an `ANOVA` on Accuracy by BaseRate and Feedback

```{r}
ANOVA <- aov(data = df, Accuracy ~ BaseRate * Feedback)
```

Print a `table` of the ANOVA

```{r}
summary(ANOVA)
```



```{r}
t.test(df$Accuracy, mu = 0.5)
```

Where are the means?

```{r}
df %>%
  group_by(Feedback,BaseRate) %>% 
  summarise(M = mean(Accuracy),SD=sd(Accuracy))
```

**Bar Charts**

Ok but can I actually see the data now?

Here is a good [resource](https://rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf)

```{r}
ggplot(data = df, aes(x=factor(BaseRate), y = Accuracy, fill = "Feedback")) +
   geom_bar(stat = "identity", aes(fill = factor(BaseRate))) +    
   facet_grid(. ~ Feedback) +
   theme_cowplot() +
   scale_fill_viridis(discrete = TRUE) +
   geom_violin(colour = "black", aes(fill = factor(BaseRate)))
```

Seperate by Feedback:  facet_grid(. ~ Feedback)

Make it less ugly?: theme_cowplot()

`Pretty colours!`: scale_fill_viridis(discrete = TRUE)

**Violin Plots**

```{r}
ggplot(data = df, aes(x=factor(BaseRate), y = Accuracy, fill = "Feedback")) +
  facet_grid(Feedback ~ .) +
  theme_cowplot() +
  scale_fill_viridis(discrete = TRUE) +
  geom_violin(colour = "black", aes(fill = factor(BaseRate))) +
  geom_boxplot(width=0.2, fill = "grey") +
  stat_summary(fun = mean, geom = "point", shape = 18, size = 8, color = "purple", fill = "black")
```

What about the `range`?: geom_boxplot(width=0.2, fill = "grey")

Where's the mean??: stat_summary(fun = mean, geom = "point", shape = 18, size = 8, color = "black", fill = "black")

-------------------------------------------------------------------------


